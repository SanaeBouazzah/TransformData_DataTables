{% extends 'base.html.twig' %}
{% block body %}
		{{include('components/navbar.html.twig')}}
		<div id="layoutSidenav">
			{{include('components/sidebar.html.twig')}}
			<div id="layoutSidenav_content">
				<main>
					<div class="container-fluid px-4 pt-4">
						{% block content %}{% endblock %}
					</div>
				</main>
			</div>
		</div>
{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('scripts') }}
<script>
document.addEventListener("DOMContentLoaded", function() {
    const sidebarToggle = document.getElementById("sidebarToggle");
    const body = document.body;
    const sidebarState = localStorage.getItem("sidebarOpen");
    if (sidebarState === "false") {
        body.classList.add("sb-sidenav-toggled"); 
    }
    sidebarToggle.addEventListener("click", function() {
        const isToggled = body.classList.toggle("sb-sidenav-toggled");
        localStorage.setItem("sidebarOpen", isToggled ? "false" : "true");
        console.log("Sidebar toggled. Open state:", !isToggled); 
    });
});
</script>
{% endblock %}
{% endblock %}
